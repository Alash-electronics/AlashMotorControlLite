# AlashMotorControlLite

> üåê [English](README.md) | [“ö–∞–∑–∞“õ—à–∞](README_kz.md) | **–†—É—Å—Å–∫–∏–π**

[![Arduino](https://img.shields.io/badge/Arduino-Compatible-blue.svg)](https://www.arduino.cc/)
[![ESP32](https://img.shields.io/badge/ESP32-Supported-green.svg)](https://www.espressif.com/)
[![Version](https://img.shields.io/badge/version-1.1.0-orange.svg)](https://github.com/Alash-electronics/AlashMotorControlLite)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

**–ü—Ä–æ—Å—Ç–∞—è –∏ –º–æ—â–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è DC –º–æ—Ç–æ—Ä–∞–º–∏ –Ω–∞ Arduino –∏ ESP32**

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ AlashMotorControlLite –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è DC –º–æ—Ç–æ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã (L298N, TB6612, ZK-5AD, DRV8833, BTS7960 –∏ –¥—Ä—É–≥–∏–µ). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Arduino, ESP32 –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü—Ä–æ—Å—Ç–æ–π API** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é –æ—Ç -100 –¥–æ 100
- ‚úÖ **4 —Ä–µ–∂–∏–º–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö H-Bridge –º–∏–∫—Ä–æ—Å—Ö–µ–º
- ‚úÖ **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** - Arduino, ESP32, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø–ª–∞—Ç—ã
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
- ‚úÖ **ESP32 3.x –≥–æ—Ç–æ–≤–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤–æ–≥–æ PWM API
- ‚úÖ **17 –ø—Ä–∏–º–µ—Ä–æ–≤** - –æ—Ç –±–∞–∑–æ–≤—ã—Ö –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö (–º–µ–∫–∞–Ω—É–º –∫–æ–ª–µ—Å–∞)
- ‚úÖ **–¢—Ä—ë—Ö—ä—è–∑—ã—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - English, “ö–∞–∑–∞“õ—à–∞ –∏ –†—É—Å—Å–∫–∏–π

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ß–µ—Ä–µ–∑ Arduino Library Manager (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ Arduino IDE
2. **–°–∫–µ—Ç—á** ‚Üí **–ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É** ‚Üí **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏**
3. –ù–∞–π–¥–∏—Ç–µ `AlashMotorControlLite`
4. –ù–∞–∂–º–∏—Ç–µ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å**
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Arduino IDE

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–∞—á–∞–π—Ç–µ [–ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é](https://github.com/Alash-electronics/AlashMotorControlLite/releases)
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ –ø–∞–ø–∫—É `Arduino/libraries/`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Arduino IDE

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä (Arduino + L298N)

```cpp
#include "AlashMotorControlLite.h"

// DIR_DIR_PWM —Ä–µ–∂–∏–º: IN1=4, IN2=5, EN=6
AlashMotorControlLite motor(DIR_DIR_PWM, 4, 5, 6);

void setup() {
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
}

void loop() {
  motor.setSpeed(75);    // –í–ø–µ—Ä–µ–¥ –Ω–∞ 75%
  delay(2000);

  motor.setSpeed(-50);   // –ù–∞–∑–∞–¥ –Ω–∞ 50%
  delay(2000);

  motor.stop();          // –û—Å—Ç–∞–Ω–æ–≤–∫–∞
  delay(1000);
}
```

### ESP32 + ZK-5AD (PWM_PWM —Ä–µ–∂–∏–º)

```cpp
#include "AlashMotorControlLite.h"

// PWM_PWM —Ä–µ–∂–∏–º: IN1=GPIO32, IN2=GPIO33
AlashMotorControlLite motor(PWM_PWM, 32, 33);

void setup() {
  Serial.begin(115200);
}

void loop() {
  motor.setSpeed(100);   // –ü–æ–ª–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤–ø–µ—Ä–µ–¥
  delay(2000);

  motor.brake();         // –ê–∫—Ç–∏–≤–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ
  delay(500);

  motor.setSpeed(-100);  // –ü–æ–ª–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–∑–∞–¥
  delay(2000);

  motor.stop();          // –°–≤–æ–±–æ–¥–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
  delay(1000);
}
```

## üéõÔ∏è –†–µ–∂–∏–º—ã –¥—Ä–∞–π–≤–µ—Ä–æ–≤ (MODE)

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 4 —Ä–µ–∂–∏–º–∞ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥—Ä–∞–π–≤–µ—Ä–æ–≤:

| –†–µ–∂–∏–º | –ü–∏–Ω—ã | PWM | –î—Ä–∞–π–≤–µ—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|-----|----------|----------|
| **DIR_PWM** | 2 | 1 | TB6612FNG, DRV8833 | 1 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ + 1 —Å–∫–æ—Ä–æ—Å—Ç—å |
| **PWM_PWM** | 2 | 2 | ZK-5AD, L298N, BTS7960 | 2 PWM –¥–ª—è –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| **DIR_DIR_PWM** | 3 | 1 | L298N (—Å EN), L293D | 2 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è + 1 —Å–∫–æ—Ä–æ—Å—Ç—å |
| **DIR_DIR** | 2 | 0 | –†–µ–ª–µ, –ø—Ä–æ—Å—Ç—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã | –¢–æ–ª—å–∫–æ –≤–∫–ª/–≤—ã–∫–ª –±–µ–∑ –®–ò–ú |

### –ü—Ä–∏–º–µ—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### L298N –¥—Ä–∞–π–≤–µ—Ä (DIR_DIR_PWM)
```cpp
AlashMotorControlLite motor(DIR_DIR_PWM, 4, 5, 6);
// PIN 4 ‚Üí IN1 (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1)
// PIN 5 ‚Üí IN2 (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2)
// PIN 6 ‚Üí EN  (—Å–∫–æ—Ä–æ—Å—Ç—å PWM)
```

#### TB6612FNG –¥—Ä–∞–π–≤–µ—Ä (DIR_PWM)
```cpp
AlashMotorControlLite motor(DIR_PWM, 4, 3);
// PIN 4 ‚Üí IN1 (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
// PIN 3 ‚Üí PWM (—Å–∫–æ—Ä–æ—Å—Ç—å)
```

#### ZK-5AD –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è ESP32 (PWM_PWM)
```cpp
AlashMotorControlLite motor(PWM_PWM, 32, 33);
// GPIO 32 ‚Üí IN1 (PWM –≤–ø–µ—Ä–µ–¥)
// GPIO 33 ‚Üí IN2 (PWM –Ω–∞–∑–∞–¥)
```

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

```cpp
// –î–ª—è —Ä–µ–∂–∏–º–æ–≤: DIR_PWM, PWM_PWM, DIR_DIR (2 –ø–∏–Ω–∞)
AlashMotorControlLite(MODE mode, uint8_t pin1, uint8_t pin2);

// –î–ª—è —Ä–µ–∂–∏–º–∞: DIR_DIR_PWM (3 –ø–∏–Ω–∞)
AlashMotorControlLite(MODE mode, uint8_t pin1, uint8_t pin2, uint8_t pin_pwm);
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### `void setSpeed(int16_t speed)`
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ—Ç–æ—Ä–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `speed` - —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç **-100 –¥–æ 100**
  - `-100` –¥–æ `-1` = –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞–∑–∞–¥
  - `0` = –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
  - `1` –¥–æ `100` = –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥

**–ü—Ä–∏–º–µ—Ä:**
```cpp
motor.setSpeed(75);    // –í–ø–µ—Ä–µ–¥ –Ω–∞ 75%
motor.setSpeed(-50);   // –ù–∞–∑–∞–¥ –Ω–∞ 50%
motor.setSpeed(0);     // –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```

#### `void stop()`
–°–≤–æ–±–æ–¥–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ—Ç–æ—Ä–∞ (coast stop)

–ú–æ—Ç–æ—Ä –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ –∏–Ω–µ—Ä—Ü–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- –ü–ª–∞–≤–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–µ–∑ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –º–µ—Ö–∞–Ω–∏–∫—É
- –≠–∫–æ–Ω–æ–º–∏–∏ —ç–Ω–µ—Ä–≥–∏–∏
- –û–±—ã—á–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –∫–æ–Ω—Ü–µ –¥–≤–∏–∂–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:**
```cpp
motor.setSpeed(100);
delay(2000);
motor.stop();  // –ü–ª–∞–≤–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
```

#### `void brake()`
–ê–∫—Ç–∏–≤–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞

–ú–æ—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ —Ç–æ—Ä–º–æ–∑–∏—Ç (–∫–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ –æ–±–º–æ—Ç–æ–∫). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- –ë—ã—Å—Ç—Ä–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –£–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
- –¢–æ—á–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ü—Ä–∏–º–µ—Ä:**
```cpp
motor.setSpeed(100);
delay(2000);
motor.brake();  // –†–µ–∑–∫–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ
```

#### `int16_t getSpeed()`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –º–æ—Ç–æ—Ä–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –¢–µ–∫—É—â—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç -100 –¥–æ 100

**–ü—Ä–∏–º–µ—Ä:**
```cpp
motor.setSpeed(75);
int speed = motor.getSpeed();  // –í–µ—Ä–Ω–µ—Ç 75
Serial.println(speed);
```

#### `MODE getMode()`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞ –¥—Ä–∞–π–≤–µ—Ä–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ó–Ω–∞—á–µ–Ω–∏–µ MODE enum

**–ü—Ä–∏–º–µ—Ä:**
```cpp
MODE mode = motor.getMode();
if (mode == PWM_PWM) {
  Serial.println("–†–µ–∂–∏–º PWM_PWM");
}
```

## üîå –°—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### Arduino Uno + L298N

```
Arduino Uno          L298N Driver
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
PIN 4      ‚Üí  IN1
PIN 5      ‚Üí  IN2
PIN 6      ‚Üí  ENA (PWM)
5V         ‚Üí  5V
GND        ‚Üí  GND

            Motor Output
            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            OUT1 ‚Üí Motor +
            OUT2 ‚Üí Motor -
            12V  ‚Üí Power Supply +
            GND  ‚Üí Power Supply -
```

### ESP32 + ZK-5AD (2 –º–æ—Ç–æ—Ä–∞)

```
ESP32              ZK-5AD Driver
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
GPIO 32   ‚Üí  Motor1 IN1
GPIO 33   ‚Üí  Motor1 IN2
GPIO 25   ‚Üí  Motor2 IN1
GPIO 26   ‚Üí  Motor2 IN2
5V        ‚Üí  VCC
GND       ‚Üí  GND

            Motor Outputs
            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            M1+/M1- ‚Üí Motor 1
            M2+/M2- ‚Üí Motor 2
            VM      ‚Üí 6-12V Power
            GND     ‚Üí Power GND
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–ª–∞–≤–Ω—ã–π —Ä–∞–∑–≥–æ–Ω –∏ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ

```cpp
#include "AlashMotorControlLite.h"

AlashMotorControlLite motor(DIR_PWM, 4, 3);

void smoothSpeed(int target, int delayMs) {
  int current = motor.getSpeed();
  int step = (target > current) ? 1 : -1;

  for (int speed = current; speed != target; speed += step) {
    motor.setSpeed(speed);
    delay(delayMs);
  }
}

void setup() {}

void loop() {
  smoothSpeed(100, 20);   // –ü–ª–∞–≤–Ω—ã–π —Ä–∞–∑–≥–æ–Ω –∑–∞ 2 —Å–µ–∫—É–Ω–¥—ã
  delay(2000);
  smoothSpeed(0, 20);     // –ü–ª–∞–≤–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ
  delay(1000);
}
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤—É–º—è –º–æ—Ç–æ—Ä–∞–º–∏ (—Ä–æ–±–æ—Ç)

```cpp
#include "AlashMotorControlLite.h"

AlashMotorControlLite motorLeft(PWM_PWM, 32, 33);
AlashMotorControlLite motorRight(PWM_PWM, 25, 26);

void moveForward(int speed) {
  motorLeft.setSpeed(speed);
  motorRight.setSpeed(speed);
}

void turnRight(int speed) {
  motorLeft.setSpeed(speed);
  motorRight.setSpeed(-speed);
}

void stopAll() {
  motorLeft.stop();
  motorRight.stop();
}

void setup() {}

void loop() {
  moveForward(70);    // –í–ø–µ—Ä–µ–¥
  delay(2000);

  turnRight(50);      // –ü–æ–≤–æ—Ä–æ—Ç –Ω–∞–ø—Ä–∞–≤–æ
  delay(1000);

  stopAll();          // –û—Å—Ç–∞–Ω–æ–≤–∫–∞
  delay(1000);
}
```

### –ú–µ–∫–∞–Ω—É–º –∫–æ–ª–µ—Å–∞ (4WD)

```cpp
#include "AlashMotorControlLite.h"

AlashMotorControlLite motorFL(PWM_PWM, 32, 33);  // Front Left
AlashMotorControlLite motorFR(PWM_PWM, 25, 26);  // Front Right
AlashMotorControlLite motorRL(PWM_PWM, 19, 18);  // Rear Left
AlashMotorControlLite motorRR(PWM_PWM, 17, 16);  // Rear Right

void mecanumDrive(int vx, int vy, int rotation) {
  int speedFL = vx + vy + rotation;
  int speedFR = vx - vy - rotation;
  int speedRL = vx - vy + rotation;
  int speedRR = vx + vy - rotation;

  motorFL.setSpeed(constrain(speedFL, -100, 100));
  motorFR.setSpeed(constrain(speedFR, -100, 100));
  motorRL.setSpeed(constrain(speedRL, -100, 100));
  motorRR.setSpeed(constrain(speedRR, -100, 100));
}

void setup() {}

void loop() {
  mecanumDrive(50, 0, 0);     // –í–ø–µ—Ä–µ–¥
  delay(2000);

  mecanumDrive(0, 50, 0);     // –°—Ç—Ä–∞—Ñ–∏–Ω–≥ –≤–ª–µ–≤–æ
  delay(2000);

  mecanumDrive(0, 0, 30);     // –ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ –º–µ—Å—Ç–µ
  delay(2000);
}
```

## üìñ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Arduino IDE:
**–§–∞–π–ª ‚Üí –ü—Ä–∏–º–µ—Ä—ã ‚Üí AlashMotorControlLite**

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Ç—Ä—ë—Ö —è–∑—ã–∫–∞—Ö (EN/KZ/RU). –í Arduino IDE –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É —Å –Ω—É–∂–Ω—ã–º —è–∑—ã–∫–æ–º: **EN** (English), **KZ** (“ö–∞–∑–∞“õ—à–∞), –∏–ª–∏ **RU** (–†—É—Å—Å–∫–∏–π).

### –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã (–∏–∑—É—á–µ–Ω–∏–µ API)

| –ü—Ä–∏–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| **StopVsBrake** | –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É stop() –∏ brake() |
| **GettersDemo** | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ getSpeed() –∏ getMode() |
| **SmoothSpeed** | –ü–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ (ramping) |
| **AllModesDemo** | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö 4 —Ä–µ–∂–∏–º–æ–≤ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ |
| **SpeedLimits** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ |
| **DirectionChange** | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–º–µ–Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| **MultiMotorSync** | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ—Ç–æ—Ä–æ–≤ |

### –ü—Ä–∏–º–µ—Ä—ã –ø–æ –¥—Ä–∞–π–≤–µ—Ä–∞–º

| –ü—Ä–∏–º–µ—Ä | –†–µ–∂–∏–º | –î—Ä–∞–π–≤–µ—Ä |
|--------|-------|---------|
| **DIR_PWM** | DIR_PWM | TB6612FNG, DRV8833 |
| **DIR_PWM_DualMotor** | DIR_PWM | 2 –º–æ—Ç–æ—Ä–∞ TB6612FNG |
| **PWM_PWM_DualMotor** | PWM_PWM | 2 –º–æ—Ç–æ—Ä–∞ –æ–±—â–∏–π |
| **DIR_DIR_PWM** | DIR_DIR_PWM | L298N |
| **DIR_DIR_PWM_DualMotor** | DIR_DIR_PWM | 2 –º–æ—Ç–æ—Ä–∞ L298N |
| **DIR_DIR_PWM_pot** | DIR_DIR_PWM | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–æ–º–µ—Ç—Ä–æ–º |

### ESP32 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ

| –ü—Ä–∏–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| **ESP32_ZK5AD_SingleMotor** | 1 –º–æ—Ç–æ—Ä –Ω–∞ ESP32 + ZK-5AD |
| **ESP32_ZK5AD_DualMotor** | 2 –º–æ—Ç–æ—Ä–∞ –Ω–∞ ESP32 + ZK-5AD |
| **ESP32_Mecanum_4WD_Demo** | –ú–µ–∫–∞–Ω—É–º —Ä–æ–±–æ—Ç (–∞–≤—Ç–æ–¥–µ–º–æ) |
| **ESP32_Mecanum_Serial** | –ú–µ–∫–∞–Ω—É–º —Ä–æ–±–æ—Ç (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ) |

## ‚ùì FAQ (–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã)

### –ö–∞–∫–æ–π —Ä–µ–∂–∏–º –≤—ã–±—Ä–∞—Ç—å –¥–ª—è –º–æ–µ–≥–æ –¥—Ä–∞–π–≤–µ—Ä–∞?

- **L298N** ‚Üí `DIR_DIR_PWM` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ EN –ø–∏–Ω) –∏–ª–∏ `PWM_PWM`
- **TB6612FNG** ‚Üí `DIR_PWM`
- **ZK-5AD** ‚Üí `PWM_PWM`
- **DRV8833** ‚Üí `DIR_PWM`
- **BTS7960** ‚Üí `PWM_PWM`
- **–†–µ–ª–µ** ‚Üí `DIR_DIR`

### –ü–æ—á–µ–º—É –º–æ—Ç–æ—Ä –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –¥—Ä–∞–π–≤–µ—Ä–∞ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –¥–ª—è –º–æ—Ç–æ—Ä–∞)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π MODE
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–∏–Ω–æ–≤
4. –ù–∞ ESP32: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–µ —Ç–æ–ª—å–∫–æ INPUT –ø–∏–Ω—ã
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ setSpeed(100) –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏

### –ú–æ—Ç–æ—Ä –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É

–ü–æ–º–µ–Ω—è–π—Ç–µ –º–µ—Å—Ç–∞–º–∏ –ø—Ä–æ–≤–æ–¥–∞ –º–æ—Ç–æ—Ä–∞ (M+ –∏ M-) –∏–ª–∏ –ø–æ–º–µ–Ω—è–π—Ç–µ pin1 –∏ pin2 –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ:

```cpp
// –ë—ã–ª–æ
AlashMotorControlLite motor(PWM_PWM, 32, 33);

// –°—Ç–∞–ª–æ (–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ)
AlashMotorControlLite motor(PWM_PWM, 33, 32);
```

### –ö–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –±–æ–ª–µ–µ —á–µ–º 2 –º–æ—Ç–æ—Ä–∞–º–∏?

–°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤:

```cpp
AlashMotorControlLite motor1(PWM_PWM, 32, 33);
AlashMotorControlLite motor2(PWM_PWM, 25, 26);
AlashMotorControlLite motor3(PWM_PWM, 19, 18);
AlashMotorControlLite motor4(PWM_PWM, 17, 16);
```

ESP32 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 16 PWM –∫–∞–Ω–∞–ª–æ–≤.

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É stop() –∏ brake()?

- **stop()** - —Å–≤–æ–±–æ–¥–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (–≤—ã–±–µ–≥ –ø–æ –∏–Ω–µ—Ä—Ü–∏–∏), –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞
- **brake()** - –∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ (–±—ã—Å—Ç—Ä–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞), –±–æ–ª—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `stop()` –¥–ª—è –æ–±—ã—á–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏, `brake()` –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –±—ã—Å—Ç—Ä–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞.

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ª–∏ ESP32-S3 / ESP32-C3?

–î–∞, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö ESP32 (ESP32, ESP32-S2, ESP32-S3, ESP32-C3, ESP32-C6).

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å Servo –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π?

–î–∞, –Ω–æ –Ω–∞ Arduino –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å PWM –ø–∏–Ω–∞–º–∏ - Servo –∏ –®–ò–ú –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å –Ω–∞ –æ–¥–Ω–∏—Ö —Ç–∞–π–º–µ—Ä–∞—Ö. –ù–∞ ESP32 –ø—Ä–æ–±–ª–µ–º –Ω–µ—Ç.

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–ª–∞–≤–Ω—ã–π —Ä–µ–≤–µ—Ä—Å (–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–º–µ–Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

```cpp
void safeReverse(int newSpeed) {
  // –¢–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
  int current = motor.getSpeed();

  // –ï—Å–ª–∏ —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞–∫–∏ - –Ω—É–∂–µ–Ω —Ä–µ–≤–µ—Ä—Å
  if ((current > 0 && newSpeed < 0) || (current < 0 && newSpeed > 0)) {
    // –ü–ª–∞–≤–Ω–æ –¥–æ –Ω—É–ª—è
    while (abs(motor.getSpeed()) > 0) {
      int speed = motor.getSpeed();
      motor.setSpeed(speed > 0 ? speed - 1 : speed + 1);
      delay(10);
    }

    // –ê–∫—Ç–∏–≤–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ
    motor.brake();
    delay(300);

    // –ü–∞—É–∑–∞
    motor.stop();
    delay(200);
  }

  // –ü–ª–∞–≤–Ω–æ –¥–æ –Ω–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
  while (motor.getSpeed() != newSpeed) {
    int speed = motor.getSpeed();
    int step = (newSpeed > speed) ? 1 : -1;
    motor.setSpeed(speed + step);
    delay(10);
  }
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ (–ø–æ–∏—Å–∫ –Ω—É–ª—è)

```cpp
void findMinSpeed() {
  Serial.println("–ü–æ–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏...");

  for (int speed = 0; speed <= 100; speed++) {
    motor.setSpeed(speed);
    delay(100);

    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —ç–Ω–∫–æ–¥–µ—Ä–∞
    // –µ—Å–ª–∏ –º–æ—Ç–æ—Ä –Ω–∞—á–∞–ª –≤—Ä–∞—â–∞—Ç—å—Å—è - —ç—Ç–æ –º–∏–Ω–∏–º—É–º
    Serial.print("–¢–µ—Å—Ç: ");
    Serial.println(speed);
  }

  motor.stop();
}
```

## üõ†Ô∏è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

- ‚úÖ Arduino Uno, Nano, Mega
- ‚úÖ Arduino Leonardo, Pro Mini
- ‚úÖ ESP32 (–≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã)
- ‚úÖ ESP8266
- ‚úÖ STM32 (—Å Arduino Core)
- ‚úÖ Teensy
- ‚úÖ –î—Ä—É–≥–∏–µ Arduino-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø–ª–∞—Ç—ã

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã

- ‚úÖ L298N, L293D
- ‚úÖ TB6612FNG
- ‚úÖ DRV8833, DRV8835
- ‚úÖ ZK-5AD, ZK-5AD-V2
- ‚úÖ BTS7960
- ‚úÖ MX1508, MX1919
- ‚úÖ VNH2SP30, VNH5019
- ‚úÖ –õ—é–±—ã–µ H-Bridge –¥—Ä–∞–π–≤–µ—Ä—ã

## üìù Changelog

### Version 1.1.0
- ‚úÖ –¢—Ä—ë—Ö—ä—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (English/“ö–∞–∑–∞“õ—à–∞/–†—É—Å—Å–∫–∏–π)
- ‚úÖ –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Ç—Ä—ë—Ö —è–∑—ã–∫–∞—Ö
- ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Version 1.0.9
- ‚úÖ –î–≤—É—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (English/–†—É—Å—Å–∫–∏–π)
- ‚úÖ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### Version 1.0.7
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ESP32 Arduino Core 3.x (–Ω–æ–≤—ã–π PWM API)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã getSpeed() –∏ getMode()
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ stop() (–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç brake)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
- ‚úÖ 17 –ø—Ä–∏–º–µ—Ä–æ–≤ (–≤–∫–ª—é—á–∞—è –º–µ–∫–∞–Ω—É–º –∫–æ–ª–µ—Å–∞)
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Version 1.0.6
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 4 —Ä–µ–∂–∏–º–æ–≤
- ESP32 2.x –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã

- üåê **–°–∞–π—Ç:** [alash-electronics.kz](https://alash-electronics.kz/)
- üí¨ **GitHub:** [Issues](https://github.com/Alash-electronics/AlashMotorControlLite/issues)
- üìß **Email:** support@alash-electronics.kz
- üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [Wiki](https://github.com/Alash-electronics/AlashMotorControlLite/wiki)
- üéì **–û–±—É—á–µ–Ω–∏–µ:** [–ü—Ä–æ–µ–∫—Ç—ã –∏ —Ç—É—Ç–æ—Ä–∏–∞–ª—ã](https://alash-electronics.kz/blogs/wiki)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE)

## üåü –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –≤—Å–µ–º, –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏ —É–ª—É—á—à–∞–µ—Ç —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É!

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ | Alash Engineering**

## –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞

Arduino motor control, ESP32 motor driver, DC motor library, L298N Arduino, TB6612FNG library, PWM motor control, H-bridge Arduino, motor driver library, Arduino robot, ESP32 robot control, mecanum wheels, dual motor control, Arduino motor shield, ZK-5AD driver, DRV8833 Arduino, BTS7960 library, motor control library, Arduino DC motor, ESP32 PWM, motor speed control
